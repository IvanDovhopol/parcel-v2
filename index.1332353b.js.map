{"mappings":"AAGA,MAAMA,EAAO,CACXC,WAAYC,SAASC,cAAc,mBACnCC,iBAAkBF,SAASC,cAAc,0BACzCE,SAAUH,SAASC,cAAc,8BAG7BG,EAAiB,ICTR,MAMbC,gBACE,MAMMC,EAAM,uCAAuCC,KAAKC,4CAA4CD,KAAKE,OAEzGC,MAAMJ,EARU,CACdK,QAAS,CACPC,cAAe,sCAOhBC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAG3B,OAAOH,EAASI,MAAM,IAEvBL,MAAKM,GAASZ,KAAKE,MAAQ,G,CAG5BW,YACF,OAAOb,KAAKC,W,CAGVY,UAAMC,GACRd,KAAKC,YAAca,C,CA9BrBC,cACEf,KAAKC,YAAc,GACnBD,KAAKE,KAAO,C,GDQhBX,EAAKC,WAAWwB,iBAAiB,UAGjC,SAAkBC,GAChBA,EAAEC,iBAEFrB,EAAegB,MAAQI,EAAEE,cAAcC,SAASP,MAAMQ,MAEtDxB,EAAeC,e,IAPjBP,EAAKK,SAASoB,iBAAiB,SAU/B,WACEnB,EAAeC,e","sources":["src/index.js","src/js/news-service.js"],"sourcesContent":["import './css/main.css';\nimport NewsApiService from './js/news-service';\n\nconst refs = {\n  searchForm: document.querySelector('.js-search-form'),\n  articleContainer: document.querySelector('.js-articles-container'),\n  loadMore: document.querySelector('[data-action=\"load-more\"]'),\n};\n\nconst newsApiService = new NewsApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMore.addEventListener('click', onLoadMore);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  newsApiService.query = e.currentTarget.elements.query.value;\n\n  newsApiService.fetchArticles();\n}\n\nfunction onLoadMore() {\n  newsApiService.fetchArticles();\n}\n","export default class NewsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchArticles() {\n    const options = {\n      headers: {\n        Authorization: '2db0a998de724756a5b7b96ed36669ed',\n      },\n    };\n\n    const url = `https://newsapi.org/v2/everything?q=${this.searchQuery}&language=en&pageSize=10&page=${this.page}`;\n\n    fetch(url, options)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n\n        return response.json();\n      })\n      .then(data => (this.page += 1));\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$refs","searchForm","document","querySelector","articleContainer","loadMore","$1f0dc3b9307be026$var$newsApiService","fetchArticles","url","this","searchQuery","page","fetch","headers","Authorization","then","response","ok","Error","statusText","json","data","query","newQuery","constructor","addEventListener","e","preventDefault","currentTarget","elements","value"],"version":3,"file":"index.1332353b.js.map"}